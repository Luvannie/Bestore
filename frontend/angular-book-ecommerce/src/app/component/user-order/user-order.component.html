<app-aside></app-aside>
<div class="page-container">
<app-header></app-header>
<div class="container" style="margin-top:75px">
    <div class="intro-section">
        <h2>Chi tiết đơn hàng</h2>
        <p>Xem thông tin chi tiết đơn hàng</p>
    </div>
    
    <!-- Thông tin người nhận -->
    <div *ngFor="let order of orderResponses">
        <div class="row">
            <div class="col-md-6">
                <h3>Thông tin người nhận</h3>
                <div class="mb-3">
                    <p class="form-label">Họ và tên: {{ order.customer_name}}</p>
                    <p class="form-label">Email: {{ order.customer_email }}</p>
                    <p class="form-label">Số điện thoại: {{ order.customer_phone}}</p>
                    <p class="form-label">Địa chỉ: {{ order.shipping_address }}</p>
                    <p class="form-label">Phương thức vận chuyển: {{ order.shipping_method }}</p>
                    <p class="form-label">Phương thức thanh toán: {{ order.payment_method }}</p>
                    <button class="btn btn-primary" (click)="complain(order.order_id)">Khiếu nại</button>
                </div>                        
            </div>
    
            <!-- Sản phẩm đã đặt hàng -->
            <div class="col-md-6">
                <h3>Sản phẩm đã đặt hàng</h3>
                <table>
                    <thead>
                        <tr>
                            <th scope="col" class="text-start">Sản phẩm</th>
                            <th scope="col">Số lượng</th>
                            <th scope="col">Đơn giá</th>
                            <th scope="col">Tổng giá</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of order.order_items; trackBy: trackByBookId">
                            <td >
                                <div class="product-info">
                                    <img [src]="item.thumbnail" alt="Product Image" class="product-image">
                                    <span   style="text-align: center;">{{ item.bookId }}</span>
                                </div>
                            </td>
                            <td ><p style="text-align: center;">{{ item.quantity }}</p></td>
                            <td ><p style="text-align: center;">{{ item.unitPrice | number:'1.2-2' }}</p></td>
                        </tr>
                    </tbody>
                </table>
                <div class="text-start mt-3">
                    <h4 class="header-text text-end">Tổng giá: {{ order.total_price | number:'1.2-2' }}</h4>
                    
                </div>            
            </div>
        </div>    
    </div>    
</div>
<app-footer></app-footer>
</div>